<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Tone Analyzer - Template</title>
  <meta name="description" content="Tone AnalyzerThe Tone Analyzer is a Watson Service that is used to gauge the emotional, social, and language tones found within a writing sample.Generate Cre...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/jekyll/update/2017/08/23/Tone-Analyzer.html">
  <link rel="alternate" type="application/rss+xml" title="Watson Repository" href="http://localhost:4000/feed.xml">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night.min.css">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Watson Repository</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Tone Analyzer - Template</h1>
    <p class="post-meta"><time datetime="2017-08-23T08:40:39-04:00" itemprop="datePublished">Aug 23, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h1>Tone Analyzer</h1>

<p>The <a href="https://console.bluemix.net/docs/services/tone-analyzer/getting-started.html">Tone Analyzer</a> is a Watson Service that is used to gauge the emotional, social, and language tones found within a writing sample.</p>

<ol>
<li>Generate Credentials on Bluemix</li>
</ol>

<h2>The Template</h2>

<p>This template will allow you to provide an input field for the user, have them click the submit button, and have the tone scores returned to the user. The template assumes you are using <a href="http://flask.pocoo.org/">Flask</a> and the JavaScript is dependent on jQuery. <a href="http://getbootstrap.com/">Bootstrap</a> HTML classes are used to improve the <em>out-of-the-box</em> styling, though this is not necessary.</p>

<p>This template also makes use of <a href="https://developers.google.com/chart/">Google Charts</a>, to display the results nicely to the user.</p>

<p>The template will work without JavaScript (as it is currently set-up), however, the user will be redirected to a page that displays the JSON output of the classes. The code is meant to be added around your existing Flask app, and so feel free to change the routes as necessary.</p>

<h3>Template Assumed Structure</h3>
<div class="highlight"><pre><code class="language-" data-lang="">+- app.py
+- templates/ 
|  +- tone_analyzer_form.html 
+- static/ 
|  +- js/ 
|  |  +- main.js 
+- ... 
</code></pre></div>
<h3>app.py</h3>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">request</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">jsonify</span>
<span class="kn">from</span> <span class="nn">watson_developer_cloud</span> <span class="kn">import</span> <span class="n">ToneAnalyzerV3</span>

<span class="c"># ...</span>

<span class="n">tone_analyzer</span> <span class="o">=</span> <span class="n">ToneAnalyzerV3</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s">'2016-05-19'</span><span class="p">,</span>
                               <span class="n">username</span><span class="o">=</span><span class="s">'&lt;Your_Tone_Analyzer_Username&gt;'</span><span class="p">,</span>
                               <span class="n">password</span><span class="o">=</span><span class="s">'&lt;Your_Tone_Analyzer_Password&gt;'</span><span class="p">)</span>

<span class="c"># ...</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/tone-analyzer'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">handle_tone_analyzer</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'GET'</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'tone_analyzer_form.html'</span><span class="p">,</span> <span class="n">sentences</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">tone_request</span> <span class="o">=</span> <span class="s">""</span> <span class="k">if</span> <span class="s">"tone_text"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">else</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s">'tone_text'</span><span class="p">]</span>
    <span class="n">tones</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="n">tone_request</span> <span class="o">==</span> <span class="s">""</span> <span class="k">else</span> <span class="n">tone_analyzer</span><span class="o">.</span><span class="n">tone</span><span class="p">(</span><span class="n">tone_request</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">tones</span><span class="p">)</span>

</code></pre></div>
<h3>templates/tone_analyzer_form.html</h3>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Tone Analyzer Form<span class="nt">&lt;/title&gt;</span>
        <span class="c">&lt;!-- Include Bootstrap CSS --&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"</span> <span class="na">integrity=</span><span class="s">"sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;</span>        
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container mt-3"</span> <span class="na">id=</span><span class="s">"messages"</span><span class="nt">&gt;&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container mt-5"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;form</span> <span class="na">data-id=</span><span class="s">"tone-analyzer"</span> <span class="na">class=</span><span class="s">"ajax_form"</span> <span class="na">action=</span><span class="s">"tone-analyzer"</span> <span class="na">method=</span><span class="s">"POST"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group mb-0"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;textarea</span> <span class="na">name=</span><span class="s">"tone_text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Text to Analyze..."</span><span class="nt">&gt;&lt;/textarea&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"Analyze!"</span> <span class="na">class=</span><span class="s">"btn btn-block btn-primary"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/form&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"results"</span> <span class="na">class=</span><span class="s">"mt-5 row"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-4"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"emotion_tone_holder"</span><span class="nt">&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-4"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"language_tone_holder"</span><span class="nt">&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-4"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"social_tone_holder"</span><span class="nt">&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="c">&lt;!-- Bootstrap and jQuery JavaScript Files --&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-3.2.1.min.js"</span> <span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"</span> <span class="na">integrity=</span><span class="s">"sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"</span> <span class="na">integrity=</span><span class="s">"sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="c">&lt;!-- Google Graphing Tools --&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"https://www.gstatic.com/charts/loader.js"</span><span class="nt">&gt;&lt;/script&gt;</span>        
        <span class="c">&lt;!-- Custom JS File --&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"static/js/main.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<h1>static/js/main.js</h1>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Load in the Google Charts packages</span>
    <span class="nx">google</span><span class="p">.</span><span class="nx">charts</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s1">'current'</span><span class="p">,</span> <span class="p">{</span><span class="na">packages</span><span class="p">:</span> <span class="p">[</span><span class="s1">'corechart'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'treemap'</span><span class="p">]});</span>    
<span class="p">});</span>

<span class="cm">/*
    * addToneGraphs(tones): Take the watson tone object and add the three
    * corresponding graphs to the page.
*/</span>
<span class="kd">function</span> <span class="nx">addToneGraphs</span><span class="p">(</span><span class="nx">tones</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">if</span> <span class="p">(</span><span class="s2">"document_tone"</span> <span class="k">in</span> <span class="nx">tones</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// Create the Emotion Tone Bar Chart</span>

        <span class="kd">var</span> <span class="nx">emotion_tone_data</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'Tone'</span><span class="p">,</span> <span class="s1">'Tone Score'</span><span class="p">]];</span>
        <span class="nx">tones</span><span class="p">[</span><span class="s2">"document_tone"</span><span class="p">][</span><span class="s2">"tone_categories"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">"tones"</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">index</span><span class="p">){</span>
            <span class="nx">emotion_tone_data</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">el</span><span class="p">[</span><span class="s2">"tone_name"</span><span class="p">],</span> <span class="nx">el</span><span class="p">[</span><span class="s2">"score"</span><span class="p">]]);</span>
        <span class="p">});</span>
        <span class="kd">var</span> <span class="nx">emotion_tone_graph</span> <span class="o">=</span> <span class="nx">google</span><span class="p">.</span><span class="nx">visualization</span><span class="p">.</span><span class="nx">arrayToDataTable</span><span class="p">(</span><span class="nx">emotion_tone_data</span><span class="p">),</span>
            <span class="nx">materialChart_emotion</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">charts</span><span class="p">.</span><span class="nx">Bar</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'emotion_tone_holder'</span><span class="p">));</span>

        <span class="nx">materialChart_emotion</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">emotion_tone_graph</span><span class="p">,</span> <span class="p">{</span><span class="na">chart</span><span class="p">:</span> <span class="p">{</span><span class="na">title</span><span class="p">:</span> <span class="s2">"Emotional Tone Content"</span><span class="p">},</span> <span class="na">colors</span><span class="p">:</span> <span class="p">[</span><span class="s1">'#F44336'</span><span class="p">],</span> <span class="na">legend</span><span class="p">:</span> <span class="p">{</span><span class="na">position</span><span class="p">:</span> <span class="s1">'none'</span><span class="p">},</span> <span class="na">bars</span><span class="p">:</span> <span class="s1">'horizontal'</span><span class="p">});</span>

        <span class="c1">// Create the Language Tone Bar Chart</span>

        <span class="kd">var</span> <span class="nx">language_tone_data</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'Tone'</span><span class="p">,</span> <span class="s1">'Tone Score'</span><span class="p">]];</span>
        <span class="nx">tones</span><span class="p">[</span><span class="s2">"document_tone"</span><span class="p">][</span><span class="s2">"tone_categories"</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="s2">"tones"</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">index</span><span class="p">){</span>
            <span class="nx">language_tone_data</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">el</span><span class="p">[</span><span class="s2">"tone_name"</span><span class="p">],</span> <span class="nx">el</span><span class="p">[</span><span class="s2">"score"</span><span class="p">]]);</span>
        <span class="p">});</span>
        <span class="kd">var</span> <span class="nx">language_tone_graph</span> <span class="o">=</span> <span class="nx">google</span><span class="p">.</span><span class="nx">visualization</span><span class="p">.</span><span class="nx">arrayToDataTable</span><span class="p">(</span><span class="nx">language_tone_data</span><span class="p">),</span>
            <span class="nx">materialChart_language</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">charts</span><span class="p">.</span><span class="nx">Bar</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'language_tone_holder'</span><span class="p">));</span>

        <span class="nx">materialChart_language</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">language_tone_graph</span><span class="p">,</span> <span class="p">{</span><span class="na">chart</span><span class="p">:</span> <span class="p">{</span><span class="na">title</span><span class="p">:</span> <span class="s2">"Language Tone Content"</span><span class="p">},</span> <span class="na">colors</span><span class="p">:</span> <span class="p">[</span><span class="s1">'#3F51B5'</span><span class="p">],</span> <span class="na">legend</span><span class="p">:</span> <span class="p">{</span><span class="na">position</span><span class="p">:</span> <span class="s1">'none'</span><span class="p">}});</span>

        <span class="c1">// Create the Social Tone Bar Chart</span>

        <span class="kd">var</span> <span class="nx">social_tone_data</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'Tone'</span><span class="p">,</span> <span class="s1">'Tone Score'</span><span class="p">]];</span>
        <span class="nx">tones</span><span class="p">[</span><span class="s2">"document_tone"</span><span class="p">][</span><span class="s2">"tone_categories"</span><span class="p">][</span><span class="mi">2</span><span class="p">][</span><span class="s2">"tones"</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">index</span><span class="p">){</span>
            <span class="nx">social_tone_data</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">el</span><span class="p">[</span><span class="s2">"tone_name"</span><span class="p">],</span> <span class="nx">el</span><span class="p">[</span><span class="s2">"score"</span><span class="p">]]);</span>
        <span class="p">});</span>
        <span class="kd">var</span> <span class="nx">social_tone_graph</span> <span class="o">=</span> <span class="nx">google</span><span class="p">.</span><span class="nx">visualization</span><span class="p">.</span><span class="nx">arrayToDataTable</span><span class="p">(</span><span class="nx">social_tone_data</span><span class="p">),</span>
            <span class="nx">materialChart_social</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">charts</span><span class="p">.</span><span class="nx">Bar</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'social_tone_holder'</span><span class="p">));</span>

        <span class="nx">materialChart_social</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">social_tone_graph</span><span class="p">,</span> <span class="p">{</span><span class="na">chart</span><span class="p">:</span> <span class="p">{</span><span class="na">title</span><span class="p">:</span> <span class="s2">"Social Tone Content"</span><span class="p">},</span> <span class="na">colors</span><span class="p">:</span> <span class="p">[</span><span class="s1">'#673AB7'</span><span class="p">],</span> <span class="na">legend</span><span class="p">:</span> <span class="p">{</span><span class="na">position</span><span class="p">:</span> <span class="s1">'none'</span><span class="p">},</span> <span class="na">bars</span><span class="p">:</span> <span class="s1">'horizontal'</span><span class="p">});</span>
    <span class="p">}</span>

<span class="p">}</span>

<span class="cm">/* 
    * The following code submits any arbitrary form with the class ajax_form
    * to the endpoint, with the method that is specified. In this sense, you 
    * can easily add this on to improve the functioning of an HTML form that 
    * you get to work without the jQuery;
    * In this case the success is programmed directly, given the data-attribute of
    * the form. This logic could be extracted outside of the success call relatively
    * easily.
*/</span> 
<span class="nx">$</span><span class="p">(</span><span class="s2">".ajax_form"</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"submit"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"action"</span><span class="p">),</span>
        <span class="nx">method</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"method"</span><span class="p">),</span>
        <span class="nx">data</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serializeArray</span><span class="p">(),</span>
        <span class="nx">form_id</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"id"</span><span class="p">);</span>

    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="nx">method</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
        <span class="na">beforeSend</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">form_id</span> <span class="o">===</span> <span class="s2">"tone-analyzer"</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// Add a message that the form is being submitted</span>
                <span class="nx">$submission_alert</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;div class="alert alert-info alert-dismissable fade show" role="alert" /&gt;'</span><span class="p">);</span>
                <span class="nx">$submission_alert</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;button type="button" class="close" data-dismiss="alert" aria-label="Close"&gt;&lt;span aria-hidden="true"&gt;&amp;times;&lt;/span&gt;&lt;/button&gt;'</span><span class="p">);</span>
                <span class="nx">$submission_alert</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'The text is being analyzed!'</span><span class="p">);</span>

                <span class="nx">$</span><span class="p">(</span><span class="s2">"#messages"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$submission_alert</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">form_id</span> <span class="o">===</span> <span class="s2">"tone-analyzer"</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// Call the addToneGraphs function on the response</span>
                <span class="nx">addToneGraphs</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="c1">// Prevent Form Submission</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Watson Repository</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Watson Repository</li>
          <li><a href="mailto:dylan.spicker@queensu.ca">dylan.spicker@queensu.ca</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/DylanSpicker"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">DylanSpicker</span></a>

          </li>
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>A repository of project examples, code templates, and useful utilities for working with IBM Watson on Bluemix. Designed specifically for use at the Smith School of Business.
</p>
      </div>
    </div>

  </div>

</footer>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


  </body>

</html>
